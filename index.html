<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EHR Simulator</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; margin: 0; padding: 0; background-color: #f4f7f9; color: #333; }
        .container { max-width: 1200px; margin: 20px auto; padding: 20px; background-color: #fff; box-shadow: 0 4px 8px rgba(0,0,0,0.1); border-radius: 8px; }
        .header { background-color: #2c3e50; color: #fff; padding: 15px; text-align: center; border-radius: 8px 8px 0 0; }
        .header h1 { margin: 0; font-size: 24px; }
        .tabs { display: flex; border-bottom: 2px solid #e0e0e0; margin-bottom: 20px; }
        .tab-button { background-color: #eee; border: none; padding: 10px 20px; cursor: pointer; font-size: 16px; transition: background-color 0.3s, color 0.3s; }
        .tab-button.active { background-color: #2c3e50; color: #fff; }
        .tab-content { display: none; padding-top: 20px; }
        .tab-content.active { display: block; }
        .section { margin-bottom: 20px; padding: 20px; border: 1px solid #e0e0e0; border-radius: 6px; }
        .section h2 { margin-top: 0; color: #2c3e50; border-bottom: 2px solid #2c3e50; padding-bottom: 5px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, select, textarea { width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 4px; font-size: 14px; }
        .btn { background-color: #3498db; color: #fff; padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; }
        .btn:hover { background-color: #2980b9; }
        #patient-list, #billing-list, #pa-list, #soap-notes-list, #denial-list { list-style-type: none; padding: 0; }
        .patient-card, .bill-card, .pa-card, .soap-card, .denial-card { background-color: #f9f9f9; padding: 15px; border: 1px solid #e0e0e0; border-radius: 6px; margin-bottom: 10px; }
        .patient-card h3, .bill-card h3, .pa-card h3, .soap-card h3, .denial-card h3 { margin-top: 0; }
        /* Calendar Styles */
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; }
        .day-cell { padding: 10px; border: 1px solid #ccc; text-align: center; cursor: pointer; position: relative; }
        .day-cell.current-month { background-color: #f0f4f7; }
        .day-cell.other-month { background-color: #e9e9e9; color: #aaa; }
        .appointment { background-color: #3498db; color: #fff; border-radius: 3px; padding: 2px 5px; font-size: 10px; margin-top: 5px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .calendar-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .calendar-header button { background: none; border: none; font-size: 24px; cursor: pointer; }
        .calendar-date-display { font-size: 18px; font-weight: bold; }
        .days-of-week { display: grid; grid-template-columns: repeat(7, 1fr); text-align: center; font-weight: bold; margin-bottom: 5px; }
        /* Quiz Styles */
        .quiz-question { margin-bottom: 20px; }
        .quiz-question h3 { margin-top: 0; }
        .quiz-question label { display: block; margin-bottom: 10px; cursor: pointer; }
        .quiz-question input[type="radio"] { margin-right: 10px; }
        #quiz-result { margin-top: 20px; font-size: 18px; font-weight: bold; }
        /* Calculator Styles */
        .calculator-input { display: flex; flex-direction: column; }
        .calculator-input label { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .calculator-input input { width: 60%; }
        #calculator-result { margin-top: 20px; font-size: 18px; font-weight: bold; }
        /* Code Match Styles */
        #code-match-term { font-size: 20px; font-weight: bold; text-align: center; margin-bottom: 20px; }
        .code-match-options { display: flex; flex-direction: column; align-items: center; }
        .code-match-option { width: 100%; padding: 12px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 6px; background-color: #f0f0f0; cursor: pointer; text-align: center; transition: background-color 0.2s; }
        .code-match-option:hover { background-color: #ddd; }
        .code-match-option.correct { background-color: #d4edda; border-color: #c3e6cb; }
        .code-match-option.incorrect { background-color: #f8d7da; border-color: #f5c6cb; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>EHR Simulator</h1>
    </div>

    <div class="tabs">
        <button class="tab-button active" onclick="showTab('dashboard')">Dashboard</button>
        <button class="tab-button" onclick="showTab('billing')">Medical Billing</button>
        <button class="tab-button" onclick="showTab('prior-auth')">Prior Authorization</button>
        <button class="tab-button" onclick="showTab('calendar')">Calendar</button>
        <button class="tab-button" onclick="showTab('quiz')">Medical Coding Quiz</button>
        <button class="tab-button" onclick="showTab('calculator')">Balance Calculator</button>
        <button class="tab-button" onclick="showTab('soap')">SOAP Note</button>
        <button class="tab-button" onclick="showTab('denial')">Denial Management</button>
        <button class="tab-button" onclick="showTab('code-match')">Code Match</button>
    </div>

    <div id="dashboard" class="tab-content active">
        <div class="section">
            <h2>Patient Registry</h2>
            <form id="patient-form">
                <div class="form-group">
                    <label for="patient-name">Patient Name:</label>
                    <input type="text" id="patient-name" required>
                </div>
                <div class="form-group">
                    <label for="patient-dob">Date of Birth:</label>
                    <input type="date" id="patient-dob" required>
                </div>
                <div class="form-group">
                    <label for="patient-diagnosis">Diagnosis (ICD-10):</label>
                    <input type="text" id="patient-diagnosis" required>
                </div>
                <button type="submit" class="btn">Add Patient</button>
            </form>
        </div>
        <div class="section">
            <h2>Active Patients</h2>
            <ul id="patient-list"></ul>
        </div>
    </div>

    <div id="billing" class="tab-content">
        <div class="section">
            <h2>Create a Claim</h2>
            <form id="billing-form">
                <div class="form-group">
                    <label for="billing-patient">Patient:</label>
                    <select id="billing-patient" required></select>
                </div>
                <div class="form-group">
                    <label for="service-date">Date of Service:</label>
                    <input type="date" id="service-date" required>
                </div>
                <div class="form-group">
                    <label for="cpt-code">CPT Code:</label>
                    <input type="text" id="cpt-code" placeholder="e.g., 99213" required>
                </div>
                <div class="form-group">
                    <label for="billing-diagnosis">Diagnosis Code (ICD-10):</label>
                    <input type="text" id="billing-diagnosis" placeholder="e.g., J01.90" required>
                </div>
                <div class="form-group">
                    <label for="insurance-payer">Insurance Payer:</label>
                    <input type="text" id="insurance-payer" placeholder="e.g., Blue Cross Blue Shield" required>
                </div>
                <div class="form-group">
                    <label for="claim-status">Claim Status:</label>
                    <select id="claim-status">
                        <option value="pending">Pending</option>
                        <option value="accepted">Accepted</option>
                        <option value="denied">Denied</option>
                    </select>
                </div>
                <button type="submit" class="btn">Submit Claim</button>
            </form>
        </div>
        <div class="section">
            <h2>Claims Tracker</h2>
            <ul id="billing-list"></ul>
        </div>
    </div>

    <div id="prior-auth" class="tab-content">
        <div class="section">
            <h2>Submit Prior Authorization</h2>
            <form id="pa-form">
                <div class="form-group">
                    <label for="pa-patient">Patient:</label>
                    <select id="pa-patient" required></select>
                </div>
                <div class="form-group">
                    <label for="pa-service">Service or Medication:</label>
                    <input type="text" id="pa-service" placeholder="e.g., MRI of the Knee" required>
                </div>
                <div class="form-group">
                    <label for="pa-reason">Medical Necessity Reason:</label>
                    <textarea id="pa-reason" rows="4" placeholder="Briefly explain why this service is medically necessary." required></textarea>
                </div>
                <div class="form-group">
                    <label for="pa-status">Authorization Status:</label>
                    <select id="pa-status">
                        <option value="pending">Pending</option>
                        <option value="approved">Approved</option>
                        <option value="denied">Denied</option>
                    </select>
                </div>
                <button type="submit" class="btn">Request Authorization</button>
            </form>
        </div>
        <div class="section">
            <h2>Prior Authorization Tracker</h2>
            <ul id="pa-list"></ul>
        </div>
    </div>

    <div id="calendar" class="tab-content">
        <div class="section">
            <h2>Practice Scheduling Appointments</h2>
            <div class="calendar-header">
                <button onclick="changeMonth(-1)">&#9664;</button>
                <div class="calendar-date-display" id="current-month-year"></div>
                <button onclick="changeMonth(1)">&#9654;</button>
            </div>
            <div class="days-of-week">
                <div>Sun</div>
                <div>Mon</div>
                <div>Tue</div>
                <div>Wed</div>
                <div>Thu</div>
                <div>Fri</div>
                <div>Sat</div>
            </div>
            <div class="calendar-grid" id="calendar-grid"></div>
        </div>
        <div class="section">
            <h2>Add New Appointment</h2>
            <form id="appointment-form">
                <div class="form-group">
                    <label for="appointment-patient">Patient:</label>
                    <select id="appointment-patient" required></select>
                </div>
                <div class="form-group">
                    <label for="appointment-date">Appointment Date:</label>
                    <input type="date" id="appointment-date" required>
                </div>
                <div class="form-group">
                    <label for="appointment-time">Appointment Time:</label>
                    <input type="time" id="appointment-time" required>
                </div>
                <button type="submit" class="btn">Schedule Appointment</button>
            </form>
        </div>
    </div>

    <div id="quiz" class="tab-content">
        <div class="section">
            <h2>Medical Coding Quiz</h2>
            <p>Test your knowledge of common ICD-10 and CPT codes.</p>
            <form id="quiz-form">
                <div class="quiz-question">
                    <h3>1. What is the correct ICD-10 code for 'Influenza with pneumonia'?</h3>
                    <label><input type="radio" name="q1" value="A"> J11.0</label>
                    <label><input type="radio" name="q1" value="B"> J10.0</label>
                    <label><input type="radio" name="q1" value="C"> J11.1</label>
                    <label><input type="radio" name="q1" value="D"> J10.1</label>
                </div>
                <div class="quiz-question">
                    <h3>2. What CPT code is typically used for a simple, new patient office visit?</h3>
                    <label><input type="radio" name="q2" value="A"> 99213</label>
                    <label><input type="radio" name="q2" value="B"> 99203</label>
                    <label><input type="radio" name="q2" value="C"> 99201</label>
                    <label><input type="radio" name="q2" value="D"> 99214</label>
                </div>
                <div class="quiz-question">
                    <h3>3. The CPT code for a routine venipuncture is:</h3>
                    <label><input type="radio" name="q3" value="A"> 36415</label>
                    <label><input type="radio" name="q3" value="B"> 99211</label>
                    <label><input type="radio" name="q3" value="C"> 88305</label>
                    <label><input type="radio" name="q3" value="D"> 36410</label>
                </div>
                <button type="submit" class="btn">Submit Quiz</button>
            </form>
            <div id="quiz-result"></div>
        </div>
    </div>

    <div id="calculator" class="tab-content">
        <div class="section">
            <h2>Patient Balance Calculator</h2>
            <p>Calculate the patient's remaining balance after insurance payment.</p>
            <form id="balance-form">
                <div class="form-group calculator-input">
                    <label for="charged-amount">Total Charged Amount ($):</label>
                    <input type="number" id="charged-amount" step="0.01" required>
                </div>
                <div class="form-group calculator-input">
                    <label for="allowed-amount">Allowed Amount ($):</label>
                    <input type="number" id="allowed-amount" step="0.01" required>
                </div>
                <div class="form-group calculator-input">
                    <label for="insurance-paid">Insurance Paid ($):</label>
                    <input type="number" id="insurance-paid" step="0.01" required>
                </div>
                <div class="form-group calculator-input">
                    <label for="copay">Patient Copay ($):</label>
                    <input type="number" id="copay" step="0.01" value="0.00">
                </div>
                <button type="submit" class="btn">Calculate Balance</button>
            </form>
            <div id="calculator-result"></div>
        </div>
    </div>
    
    <div id="soap" class="tab-content">
        <div class="section">
            <h2>Create SOAP Note</h2>
            <p>Use the following fields to practice creating a clinical note.</p>
            <form id="soap-form">
                <div class="form-group">
                    <label for="soap-patient">Patient:</label>
                    <select id="soap-patient" required></select>
                </div>
                <div class="form-group">
                    <label for="soap-subjective">S - Subjective:</label>
                    <textarea id="soap-subjective" rows="4" placeholder="Patient's chief complaint, symptoms, and health history." required></textarea>
                </div>
                <div class="form-group">
                    <label for="soap-objective">O - Objective:</label>
                    <textarea id="soap-objective" rows="4" placeholder="Objective data: physical exam findings, lab results, and vitals." required></textarea>
                </div>
                <div class="form-group">
                    <label for="soap-assessment">A - Assessment:</label>
                    <textarea id="soap-assessment" rows="4" placeholder="Medical diagnosis and a summary of the patient's condition." required></textarea>
                </div>
                <div class="form-group">
                    <label for="soap-plan">P - Plan:</label>
                    <textarea id="soap-plan" rows="4" placeholder="Treatment plan, next steps, and follow-up instructions." required></textarea>
                </div>
                <button type="submit" class="btn">Save SOAP Note</button>
            </form>
        </div>
        <div class="section">
            <h2>Saved Notes</h2>
            <ul id="soap-notes-list"></ul>
        </div>
    </div>

    <div id="denial" class="tab-content">
        <div class="section">
            <h2>Manage Claim Denials</h2>
            <p>Practice documenting and tracking denied claims.</p>
            <form id="denial-form">
                <div class="form-group">
                    <label for="denial-patient">Patient:</label>
                    <select id="denial-patient" required></select>
                </div>
                <div class="form-group">
                    <label for="claim-cpt">Associated CPT Code (e.g., 99213):</label>
                    <input type="text" id="claim-cpt" required>
                </div>
                <div class="form-group">
                    <label for="denial-reason">Reason for Denial:</label>
                    <textarea id="denial-reason" rows="4" placeholder="E.g., Missing modifier, not medically necessary, etc." required></textarea>
                </div>
                <div class="form-group">
